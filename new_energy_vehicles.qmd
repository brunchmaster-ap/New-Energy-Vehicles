---
title: "NEV Fault Dataset Analysis"
format: html
jupyter: false
execute:
  echo: false
  warning: false
  message: false
---

```{r, echo=FALSE}
library(tidyverse)
library(plotly)
library(gganimate)
library(transformr)
library(magick)
library(ggplot2)
library(hexbin)
  # needed for gganimate smooth transitions

nev_raw <- read_csv("C:/Users/anshb/Downloads/NEV_fault_dataset new (1).csv", col_types = cols(.default = "c"))

numeric_cols <- c("Voltage (V)", "Current (A)", "Motor Speed (RPM)", "Temperature (째C)", 
                  "Vibration (g)", "Ambient Temp (째C)", "Humidity (%)")

nev <- nev_raw %>%
  mutate(across(all_of(numeric_cols), ~ as.numeric(str_remove_all(., "\\."))))

```

**Interactive Scatter Plot: Voltage vs Current**

```{r voltage-current-plot, echo=FALSE}

p1 <- ggplot(nev, aes(x = `Voltage (V)`, y = `Current (A)`)) +
  stat_binhex(bins = 50) +
  scale_fill_viridis_c() +
  labs(
    title = "Voltage vs Current Density",
    x = "Voltage (V)",
    y = "Current (A)",
    fill = "Count"
  ) +
  theme_minimal(base_size = 14)

ggplotly(p1)
```



This interactive scatter plot shows how voltage and current measurements vary across different fault labels. You can zoom, pan, and hover to explore patterns in the dataset.

**Interactive Box Plot: Motor Speed over Temperature by Fault Label**

```{r motor-speed-boxplot, echo=FALSE}
p2_boxplot <- ggplot(nev, aes(x = factor(`Fault Label`), y = `Motor Speed (RPM)`, fill = factor(`Fault Label`))) +
  geom_boxplot(alpha = 0.8, outlier.color = "red", outlier.size = 1) +
  scale_fill_brewer(palette = "Set2") +
  labs(
    title = "Motor Speed Distribution by Fault Label",
    x = "Fault Label",
    y = "Motor Speed (RPM)"
  ) +
  theme_minimal(base_size = 14) +
  theme(
    legend.position = "none",
    panel.grid.minor = element_blank()
  )

ggplotly(p2_boxplot)
```



This animated line plot reveals the relationship between motor speed and temperature for each fault label, cycling through fault types so you can see how behavior changes.

**Interactive Histogram: Distribution of Vibration (g)**

```{r vibration-histogram, echo=FALSE}
p3 <- ggplot(nev, aes(x = `Vibration (g)`, fill = factor(`Fault Label`))) +
  geom_histogram(position = "identity", alpha = 0.6, bins = 30, color = "black") +
  scale_fill_brewer(palette = "Set2") +
  labs(
    title = "Distribution of Vibration by Fault Label",
    x = "Vibration (g)",
    fill = "Fault Label"
  ) +
  theme_minimal(base_size = 14) +
  theme(
    panel.grid.minor = element_blank()
  )

ggplotly(p3) %>% layout(legend = list(title=list(text='Fault Label')))
```



This interactive histogram shows the distribution of vibration intensity for different fault labels, letting you compare how vibration varies with fault type.

**Interactive Scatter Plot: Ambient Temperature vs Humidity**

```{r ambient-temp-violin, echo=FALSE}
p4_violin <- ggplot(nev, aes(x = factor(`Fault Label`), y = `Ambient Temp (째C)`, fill = factor(`Fault Label`))) +
  geom_violin(alpha = 0.8, trim = TRUE) +
  scale_fill_brewer(palette = "Set2") +
  labs(
    title = "Ambient Temperature Distribution by Fault Label",
    x = "Fault Label",
    y = "Ambient Temperature (째C)"
  ) +
  theme_minimal(base_size = 14) +
  theme(
    legend.position = "none",
    panel.grid.minor = element_blank()
  )

ggplotly(p4_violin)
```



This interactive scatter plot shows how ambient temperature and humidity measurements vary for each fault label. By exploring this plot, you can spot possible clusters or trends that might reveal how environmental conditions relate to different fault scenarios.



**Final Summary**

*These interactive and animated plots provide a clear overview of how the main factors in the NEV fault dataset relate to each other. By visualizing voltage, current, motor speed, temperature, vibration, ambient temperature, and humidity alongside fault labels, we can spot trends and clusters that may reveal how faults develop under different conditions. Together, these insights can help support better monitoring, fault detection, and maintenance planning for electric vehicles.*
